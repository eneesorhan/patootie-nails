<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patootie Nails | By Sude</title>

    <!-- Harici CSS ve JS dosyaları bağlandı -->
    <link href="https://fonts.googleapis.com/css2?family=Chewy&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>

<header>
    <a href="#" class="logo-text">Patootie Nails</a>
    <nav><a href="#home">Home</a><a href="#galeri">Gallery</a><a href="#hizmetler">Services</a><a href="#order">Order</a></nav>
</header>

<section id="home">
    <img src="foto/anaekrangoruntusu.png" alt="Welcome" class="hero-img">
</section>

<section id="galeri">
    <div class="swiper mySwiper">
        <div class="swiper-wrapper">
            <div class="swiper-slide"><img src="https://images.unsplash.com/photo-1604654894610-df63bc536371?q=80&w=1000"></div>
            <div class="swiper-slide"><img src="https://images.unsplash.com/photo-1632345031435-8727f6897d53?q=80&w=1000"></div>
        </div>
        <div class="swiper-pagination"></div>
    </div>
</section>

<section id="hizmetler">
    <h2>Services</h2>
    <div id="services-grid" class="services-grid">Loading...</div>
</section>

<section id="order">
    <h2>Your Order</h2>
    <div id="cart-box">
        <div id="cart-items" class="cart-list">
            <p class="empty-msg">Bag is empty.</p>
        </div>
        
        <div class="total-section">
            <span class="total-label">Total:</span>
            <span class="total-amount">£<span id="total-price">0</span></span>
        </div>

        <form id="nail-form" action="https://formspree.io/f/xlgwdrkn" method="POST" enctype="multipart/form-data">
            <div class="input-group">
                <label for="photo">Reference Photo</label>
                <input type="file" id="photo" name="photo" class="order-input">
            </div>

            <div class="input-group">
                <label for="instagram">Instagram</label>
                <input type="text" id="instagram" name="instagram" class="order-input" placeholder="@username" required>
            </div>

            <div class="input-group">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" class="order-input" placeholder="example@email.com">
            </div>

            <div class="input-group">
                <label for="notes">Special Requests</label>
                <textarea id="notes" name="notes" class="order-input" rows="3" placeholder="Shape, length, or extra details..."></textarea>
            </div>
            
            <input type="hidden" name="ordered_services" id="hidden-services">
            <input type="hidden" name="grand_total" id="hidden-total">
            
            <button type="submit" id="send-btn" class="btn-submit">Confirm & Send Order ✨</button>
        </form>
        <div id="form-status"></div>
    </div>
</section>






<footer>
    <div class="social-icons">
        <a href="#"><i class="fab fa-instagram"></i></a>
        <a href="#"><i class="fab fa-tiktok"></i></a>
    </div>
    <p>&copy; 2026 Patootie Nails - By Sude</p>
</footer>

<!-- Harici JavaScript dosyası bağlandı -->
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script type="module" src="script.js"></script>
<script>
    // Form gönderiminden önce en az bir iletişim bilgisinin doldurulduğunu kontrol et
    document.getElementById('nail-form').addEventListener('submit', function(event) {
        const email = document.getElementById('email').value.trim();
        const instagram = document.getElementById('instagram').value.trim();

        if (!email && !instagram) {
            event.preventDefault();
            alert('Lütfen en az bir iletişim bilgisi (Email veya Instagram) giriniz.');
        }
    });

    // Form gönderilmeden önce ordered_services ve grand_total alanlarını doldur
    document.getElementById('nail-form').addEventListener('submit', function(event) {
        const orderedServicesField = document.getElementById('hidden-services');
        const grandTotalField = document.getElementById('hidden-total');

        // Sepetteki ürünleri al
        const cartItems = cart.map(item => `${item.name} (x1) - £${item.price}`).join(', ');
        const totalPrice = document.getElementById('total-price').innerText;

        // Form alanlarını doldur
        orderedServicesField.value = cartItems;
        grandTotalField.value = totalPrice;
    });

    // Fotoğraf boyutunu kontrol et
    document.getElementById('nail-form').addEventListener('submit', function(event) {
        const photoInput = document.getElementById('photo');
        const file = photoInput.files[0];

        if (file && file.size > 5 * 1024 * 1024) { // 5 MB sınırı
            event.preventDefault();
            alert('Fotoğraf boyutu 5 MB üzerinde olamaz. Lütfen daha küçük bir dosya seçin.');
            return;
        }
    });
</script>

</body>
</html>
